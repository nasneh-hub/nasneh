"List","Task Name","Description","Status","Priority","Estimate","Type","Epic"
"Sprint 1","Setup auth module structure","Create auth routes, controllers, services folder structure in /apps/api/src/modules/auth/. Register auth routes in main app. Create unit test file structure.","Backlog","P0","4","Feature","Auth"
"Sprint 1","Implement OTP request endpoint","POST /auth/request-otp with rate limiting (5/hour per phone). Validates phone format (+973XXXXXXXX). Stores OTP in Redis with 5-min TTL. Returns { success: true, channel: whatsapp|sms }.","Backlog","P0","6","Feature","Auth"
"Sprint 1","Implement WhatsApp OTP delivery","WhatsApp Business API integration. Send OTP template message. 10-second delivery timeout. Log delivery status. Trigger fallback on failure/timeout.","Backlog","P0","6","Feature","Auth"
"Sprint 1","Implement SMS fallback","AWS SNS fallback when WhatsApp fails/times out. Configure SNS client. Log fallback status. Handle SNS errors gracefully.","Backlog","P0","4","Feature","Auth"
"Sprint 1","Implement OTP verify endpoint","POST /auth/verify-otp accepts { phone, otp }. Validates OTP from Redis. Creates user if not exists. Generates JWT (15min) + refresh token (7 days). Returns { accessToken, refreshToken, user }.","Backlog","P0","6","Feature","Auth"
"Sprint 1","Implement refresh token flow","POST /auth/refresh accepts { refreshToken }. Validates and rotates refresh token. Invalidates old token. Returns new { accessToken, refreshToken }.","Backlog","P1","4","Feature","Auth"
"Sprint 1","Create products table migration","Prisma schema for products table per TECHNICAL_SPEC. Indexes on vendor_id, category_id. Seed data for testing. Related: GitHub Issue #1","Backlog","P0","4","Feature","Products"
"Sprint 1","Implement product CRUD API","POST/GET/PATCH/DELETE /vendor/products. Auth middleware validates vendor role. Soft-delete for DELETE. Input validation with Zod.","Backlog","P0","6","Feature","Products"
"Sprint 1","Implement product listing API","GET /products with pagination. Filters: category, vendor, price range, availability. Search by name/description. Default sort: created_at desc.","Backlog","P0","4","Feature","Products"
"Sprint 1","Implement product images upload","POST /upload/image accepts multipart. Validates file type (jpg, png, webp) and size (max 5MB). Uploads to S3. Returns { url: string }.","Backlog","P1","6","Feature","Products"
"Sprint 1","Create orders + order_items migrations","Prisma schema per TECHNICAL_SPEC v2.1. orders table with fulfillment_type enum (delivery, pickup). order_items with price snapshots. Foreign keys and indexes. Related: GitHub Issue #1","Backlog","P0","4","Feature","Orders + Fulfillment"
"Sprint 1","Implement create order endpoint","POST /orders accepts { vendor_id, items[], fulfillment_type, address? }. Creates order + order_items in transaction. Snapshots product prices. Calculates subtotal, commission, total.","Backlog","P0","8","Feature","Orders + Fulfillment"
"Sprint 1","Implement order status flow","PATCH /vendor/orders/:id accepts { status }. Validates status transitions. Logs changes in audit_logs. Placeholder for customer notification.","Backlog","P0","6","Feature","Orders + Fulfillment"
"Sprint 1","Implement order listing APIs","GET /orders (customer), GET /vendor/orders (vendor). Includes order_items. Filters: status, date range. Pagination support.","Backlog","P1","4","Feature","Orders + Fulfillment"
"Sprint 1","Create payments + refunds migrations","Prisma schema per TECHNICAL_SPEC v2.1. payments with idempotency_key. refunds table. audit_logs table. All foreign keys and indexes. Related: GitHub Issue #1","Backlog","P0","4","Feature","Payments"
"Sprint 1","Implement APS payment initiation","POST /payments/initiate accepts { order_id }. Generates idempotency key. Calls APS API. Stores payment with pending status. Returns { payment_url, payment_id }.","Backlog","P0","8","Feature","Payments"
"Sprint 1","Implement APS webhook handler","POST /payments/webhook. Captures raw body. Validates signature per TECHNICAL_SPEC ยง6. Updates payment and order status. Logs all events.","Backlog","P0","8","Feature","Payments"
"Sprint 1","Implement audit logging","audit_logs table + AuditService. Captures actor, action, entity, diff, IP. Integrated with order status and payment events.","Backlog","P1","6","Feature","Payments"
"Backlog","Generate favicons and meta images","Generate favicons (16x16, 32x32, 180x180) and meta images from logo. Related: GitHub Issue #4 https://github.com/nasneh-hub/nasneh/issues/4","Backlog","P2","4","Chore","Admin Dashboard"
"Backlog","Replace placeholder lint/typecheck scripts","Replace echo TODO scripts with real ESLint and TypeScript checks. Related: GitHub Issue #1 https://github.com/nasneh-hub/nasneh/issues/1","Backlog","P1","4","Chore","Admin Dashboard"
