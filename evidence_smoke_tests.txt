# B. Post-Deploy Smoke Tests

## Test 1: Health Endpoint
```bash
$ curl http://nasneh-staging-api-alb-1514033867.me-south-1.elb.amazonaws.com/health
```
**Response:**
```json
{"status":"ok","timestamp":"2026-01-05T15:20:19.812Z","version":"v1"}
```
**HTTP Status:** 200 ✅

## Test 2: Categories API (Sprint 3 - S3-01)
```bash
$ curl http://nasneh-staging-api-alb-1514033867.me-south-1.elb.amazonaws.com/api/v1/categories
```
**Response:**
```json
{"success":true,"data":[]}
```
**HTTP Status:** 200 ✅

## Test 3: Admin Stats Endpoint (Sprint 3 - S3-05) - Auth Check
```bash
$ curl http://nasneh-staging-api-alb-1514033867.me-south-1.elb.amazonaws.com/api/v1/admin/stats
```
**Response:**
```json
{"success":false,"error":"Authorization header missing or invalid"}
```
**HTTP Status:** 401 ✅ (Correctly requires authentication)

## Test 4: Existing Products Endpoint (Integration Check)
```bash
$ curl http://nasneh-staging-api-alb-1514033867.me-south-1.elb.amazonaws.com/api/v1/products
```
**Response:**
```json
{"success":true,"data":[],"pagination":{"page":1,"limit":20,"total":0,"totalPages":0,"hasNext":false,"hasPrev":false}}
```
**HTTP Status:** 200 ✅

## Test 5: Admin Applications Endpoint (Sprint 3 - S3-04)
```bash
$ curl http://nasneh-staging-api-alb-1514033867.me-south-1.elb.amazonaws.com/api/v1/admin/applications/vendors
```
**Response:**
```json
{"success":false,"error":"Not Found","path":"/api/v1/admin/applications/vendors"}
```
**HTTP Status:** 404 ⚠️ (Endpoint may not be mounted or route path differs)

## Test 6: Drivers Endpoint (Sprint 3 - S3-06)
```bash
$ curl http://nasneh-staging-api-alb-1514033867.me-south-1.elb.amazonaws.com/api/v1/drivers
```
**Response:**
```json
{"success":false,"error":"Not Found","path":"/api/v1/drivers"}
```
**HTTP Status:** 404 ⚠️ (Endpoint may not be mounted or route path differs)

## Summary
✅ Health endpoint: Working
✅ Categories API: Working (Sprint 3)
✅ Admin stats: Correctly requires auth (Sprint 3)
✅ Products API: Still working (integration check)
⚠️ Some Sprint 3 endpoints returning 404 - likely route mounting issue or different paths

## Note
The 404 responses for admin/drivers endpoints suggest routes may not be mounted in index.ts or use different paths. This needs verification in the codebase.
